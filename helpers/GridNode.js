const a0_0x3461b5=a0_0x282e;function a0_0x282e(_0x2223f1,_0x37306a){const _0x304041=a0_0x3040();return a0_0x282e=function(_0x282e93,_0x586abf){_0x282e93=_0x282e93-0x13f;let _0x5dcee2=_0x304041[_0x282e93];return _0x5dcee2;},a0_0x282e(_0x2223f1,_0x37306a);}(function(_0x1693a5,_0x5c9270){const _0x2dbd8e=a0_0x282e,_0x1ffeb2=_0x1693a5();while(!![]){try{const _0x3bd449=-parseInt(_0x2dbd8e(0x14b))/0x1+-parseInt(_0x2dbd8e(0x165))/0x2+-parseInt(_0x2dbd8e(0x162))/0x3*(-parseInt(_0x2dbd8e(0x145))/0x4)+parseInt(_0x2dbd8e(0x161))/0x5*(parseInt(_0x2dbd8e(0x142))/0x6)+-parseInt(_0x2dbd8e(0x144))/0x7*(parseInt(_0x2dbd8e(0x14f))/0x8)+parseInt(_0x2dbd8e(0x15e))/0x9*(parseInt(_0x2dbd8e(0x14c))/0xa)+parseInt(_0x2dbd8e(0x163))/0xb*(-parseInt(_0x2dbd8e(0x149))/0xc);if(_0x3bd449===_0x5c9270)break;else _0x1ffeb2['push'](_0x1ffeb2['shift']());}catch(_0xa0d529){_0x1ffeb2['push'](_0x1ffeb2['shift']());}}}(a0_0x3040,0x3d828));import{Point,Cell}from'./GraphicsPrimitives.js';export class GridNode extends PIXI['Container']{get[a0_0x3461b5(0x150)](){const _0x352ea1=a0_0x3461b5;return this[_0x352ea1(0x159)]*this[_0x352ea1(0x15f)][_0x352ea1(0x150)];}get[a0_0x3461b5(0x140)](){const _0x3918f7=a0_0x3461b5;return this[_0x3918f7(0x156)]*this['cellSize']['height'];}constructor(_0x4b668e,_0x19b75d,_0x2bd392){const _0x2a78c2=a0_0x3461b5;super(),this['rows']=_0x4b668e,this['columns']=_0x19b75d,this[_0x2a78c2(0x15f)]=_0x2bd392,this[_0x2a78c2(0x15b)]=null;let _0x4658ab={'color':0xffffff,'alpha':0x1,'width':0x2};const _0x2cddeb=new PIXI[(_0x2a78c2(0x152))]();_0x2cddeb[_0x2a78c2(0x14e)](_0x4658ab),_0x2cddeb[_0x2a78c2(0x146)](0x0,0x0,this['width'],this[_0x2a78c2(0x140)]),this[_0x2a78c2(0x147)](_0x2cddeb);for(let _0x250e45=0x1;_0x250e45<this[_0x2a78c2(0x159)];_0x250e45++){let _0x2c8ca1=_0x250e45*this['cellSize'][_0x2a78c2(0x150)];const _0x7b6334=new PIXI[(_0x2a78c2(0x152))]();_0x7b6334[_0x2a78c2(0x14e)](_0x4658ab)['moveTo'](_0x2c8ca1,0x0)['lineTo'](_0x2c8ca1,this[_0x2a78c2(0x140)]),this['addChild'](_0x7b6334);}for(let _0x4db0a1=0x1;_0x4db0a1<this[_0x2a78c2(0x156)];_0x4db0a1++){let _0x144269=_0x4db0a1*this[_0x2a78c2(0x15f)][_0x2a78c2(0x140)];const _0x303fe8=new PIXI[(_0x2a78c2(0x152))]();_0x303fe8[_0x2a78c2(0x14e)](_0x4658ab)[_0x2a78c2(0x14a)](0x0,_0x144269)[_0x2a78c2(0x160)](this[_0x2a78c2(0x150)],_0x144269),this[_0x2a78c2(0x147)](_0x303fe8);}}[a0_0x3461b5(0x143)](_0x811030,_0x1b803f){const _0x2d29d7=a0_0x3461b5;this['x']=_0x811030-this[_0x2d29d7(0x150)]/0x2,this['y']=_0x1b803f-this['height']/0x2;}[a0_0x3461b5(0x157)](_0x118f6c,_0x41b8e0){const _0x434307=a0_0x3461b5;let _0x4d45e6=this['x']+(_0x41b8e0+0.5)*this[_0x434307(0x15f)][_0x434307(0x150)],_0x48362c=this['y']+(_0x118f6c+0.5)*this[_0x434307(0x15f)][_0x434307(0x140)];return Point['at'](_0x4d45e6,_0x48362c);}[a0_0x3461b5(0x154)](_0x5b13a5,_0x52800c){const _0x23af51=a0_0x3461b5;let _0x36688c=Math[_0x23af51(0x14d)]((_0x5b13a5-this['x'])/this[_0x23af51(0x15f)][_0x23af51(0x150)]),_0x2b2410=Math[_0x23af51(0x14d)]((_0x52800c-this['y'])/this['cellSize'][_0x23af51(0x140)]);return Cell[_0x23af51(0x158)](_0x2b2410,_0x36688c);}[a0_0x3461b5(0x153)](_0x266e1c){const _0x164d2d=a0_0x3461b5;return _0x266e1c['row']>=0x0&&_0x266e1c['row']<this[_0x164d2d(0x156)]&&_0x266e1c['col']>=0x0&&_0x266e1c['col']<this[_0x164d2d(0x159)]?!![]:![];}['listen'](){const _0x1ab306=a0_0x3461b5;this['eventMode']=_0x1ab306(0x13f),this[_0x1ab306(0x155)]=_0x1ab306(0x164),this[_0x1ab306(0x141)]=new PIXI[(_0x1ab306(0x15d))](0x0,0x0,this[_0x1ab306(0x150)],this['height']),this['on']('pointerdown',this[_0x1ab306(0x15c)]);}[a0_0x3461b5(0x15a)](){const _0x3e3685=a0_0x3461b5;this[_0x3e3685(0x151)](_0x3e3685(0x148),this['onPointerDown']);}['onPointerDown'](_0x40d9cb){const _0x426d56=a0_0x3461b5;let _0x232602=Math['floor']((_0x40d9cb['x']-this['x'])/this[_0x426d56(0x15f)]['width']),_0x53258a=Math[_0x426d56(0x14d)]((_0x40d9cb['y']-this['y'])/this['cellSize']['height']);this['whenClicked']!=null&&this[_0x426d56(0x15b)](_0x53258a,_0x232602);}}function a0_0x3040(){const _0x5d5382=['236823ArafWz','10ZXPzrq','floor','lineStyle','252056uQYkep','width','off','Graphics','hasCell','cellAt','cursor','rows','positionAt','from','columns','unlisten','whenClicked','onPointerDown','Rectangle','4200597bLwGni','cellSize','lineTo','20VAwlbR','567VBQZrw','2079BrZGbr','pointer','419750aTutnr','static','height','hitArea','553884gmJLaC','centerAt','7SjpCZh','10252VurBeg','drawRect','addChild','pointerdown','37476zyOPnO','moveTo'];a0_0x3040=function(){return _0x5d5382;};return a0_0x3040();}