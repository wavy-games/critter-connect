const a0_0x390892=a0_0x4838;(function(_0x434934,_0x31dba1){const _0x305cf7=a0_0x4838,_0x43f11e=_0x434934();while(!![]){try{const _0x2f2a51=parseInt(_0x305cf7(0x17a))/0x1*(-parseInt(_0x305cf7(0x168))/0x2)+-parseInt(_0x305cf7(0x17d))/0x3*(parseInt(_0x305cf7(0x15b))/0x4)+-parseInt(_0x305cf7(0x15d))/0x5*(parseInt(_0x305cf7(0x16f))/0x6)+-parseInt(_0x305cf7(0x17f))/0x7*(parseInt(_0x305cf7(0x180))/0x8)+-parseInt(_0x305cf7(0x159))/0x9*(parseInt(_0x305cf7(0x165))/0xa)+-parseInt(_0x305cf7(0x15e))/0xb+parseInt(_0x305cf7(0x169))/0xc*(parseInt(_0x305cf7(0x15a))/0xd);if(_0x2f2a51===_0x31dba1)break;else _0x43f11e['push'](_0x43f11e['shift']());}catch(_0x2c6700){_0x43f11e['push'](_0x43f11e['shift']());}}}(a0_0x37df,0x6057e));import{PlayerId}from'../board/PlayerInfo.js';import{Cell}from'../helpers/GraphicsPrimitives.js';export const MoveStatus=Object['freeze']({'GameWon':a0_0x390892(0x16d),'GameLost':a0_0x390892(0x178),'Continue':a0_0x390892(0x14e),'MoveNotAvailable':'na'});function a0_0x4838(_0x4bc21c,_0x5548dd){const _0x37df0d=a0_0x37df();return a0_0x4838=function(_0x48385d,_0x27fac8){_0x48385d=_0x48385d-0x14a;let _0x334dc9=_0x37df0d[_0x48385d];return _0x334dc9;},a0_0x4838(_0x4bc21c,_0x5548dd);}function a0_0x37df(){const _0x2fd44b=['APPROACH!','counterMove','Island','lost','location','1IlZvjZ','GameLost','playerAt','613374UTEXwW','board','21EDFVTQ','1245752JnEZmM','taxiCabTo','sprites','KILL!','GameWon','continue','moveSprite','playersOfType','deltaTo','player','Continue','moveTowards','code','findPlayerOfType','Ship','Treasure','423wmoyPo','26884icmiCZ','8TXwDPw','CHASE!','7330WsvCyy','187275NPidsa','abs','movePlayer','moveKrakenToCell','findPlayer','HAZARD!','log','13810yEypTj','movePlayerSprite','equals','1029818cDzmxy','13644RfHimG','Whirlpool','row','index','won','col','1980FZJXCU','gridNode','positionAt','userMove','isSurrounding','MoveNotAvailable'];a0_0x37df=function(){return _0x2fd44b;};return a0_0x37df();}export class GameControl{constructor(_0x2bf9a6,_0x4d69fa,_0x17aed4){const _0xdbb77b=a0_0x390892;this[_0xdbb77b(0x17e)]=_0x2bf9a6,this[_0xdbb77b(0x170)]=_0x4d69fa,this[_0xdbb77b(0x14b)]=_0x17aed4;}[a0_0x390892(0x172)](_0x199d59,_0x1f72f2){const _0x254f91=a0_0x390892;let _0x3e0f0e=this[_0x254f91(0x17e)][_0x254f91(0x17c)](_0x1f72f2['row'],_0x1f72f2['col']);if(_0x3e0f0e!=null){if(_0x3e0f0e[_0x254f91(0x155)]==PlayerId[_0x254f91(0x177)])return MoveStatus[_0x254f91(0x174)];}let _0x3bee59=this[_0x254f91(0x17e)][_0x254f91(0x156)](PlayerId[_0x254f91(0x157)]);this[_0x254f91(0x160)](_0x3bee59[_0x254f91(0x16c)],_0x1f72f2[_0x254f91(0x16b)],_0x1f72f2[_0x254f91(0x16e)]);let _0x1deaa2=this[_0x254f91(0x17e)][_0x254f91(0x150)](PlayerId[_0x254f91(0x16a)]);for(let _0x580b4e in _0x1deaa2){let _0x248770=_0x1deaa2[_0x580b4e],_0x526499=_0x248770[_0x254f91(0x152)]['location'];if(_0x1f72f2[_0x254f91(0x173)](_0x526499))return console[_0x254f91(0x164)](_0x254f91(0x163)),this[_0x254f91(0x160)](_0x3bee59['index'],_0x526499[_0x254f91(0x16b)],_0x526499[_0x254f91(0x16e)]),MoveStatus[_0x254f91(0x17b)];}let _0x4b54b9=this[_0x254f91(0x17e)][_0x254f91(0x156)](PlayerId[_0x254f91(0x158)]);if(_0x1f72f2[_0x254f91(0x167)](_0x4b54b9[_0x254f91(0x152)][_0x254f91(0x179)]))return MoveStatus[_0x254f91(0x14d)];return MoveStatus[_0x254f91(0x153)];}[a0_0x390892(0x176)](_0x2a40db,_0x4051da){const _0x53ddc1=a0_0x390892;let _0x3f58ad=this[_0x53ddc1(0x17e)][_0x53ddc1(0x150)](PlayerId['Kraken']);for(let _0x5cee3f in _0x3f58ad){let _0x5c9245=_0x3f58ad[_0x5cee3f],_0x5193a8=_0x5c9245[_0x53ddc1(0x152)]['location'],_0x313f59=_0x5193a8[_0x53ddc1(0x14a)](_0x2a40db),_0x251b11=_0x5193a8[_0x53ddc1(0x14a)](_0x4051da);if(_0x251b11==0x1)return console[_0x53ddc1(0x164)](_0x53ddc1(0x14c)),this[_0x53ddc1(0x161)](_0x5c9245,_0x4051da),MoveStatus[_0x53ddc1(0x17b)];if(_0x313f59==0x1&&_0x251b11>0x1){let _0x5f2ef7=_0x5193a8[_0x53ddc1(0x14a)](_0x2a40db);if(_0x5f2ef7==0x1){console['log'](_0x53ddc1(0x15c));let _0x16260b=this['board'][_0x53ddc1(0x17c)](_0x2a40db['row'],_0x2a40db[_0x53ddc1(0x16e)]);if(_0x16260b==null){this['moveKrakenToCell'](_0x5c9245,_0x2a40db);continue;}}}let _0x49086b=_0x5193a8[_0x53ddc1(0x151)](_0x4051da);if(Math[_0x53ddc1(0x15f)](_0x49086b['dx'])==0x2&&_0x49086b['dy']==0x0||_0x49086b['dx']==0x0&&Math[_0x53ddc1(0x15f)](_0x49086b['dy'])==0x2){let _0x20e15b=_0x5193a8[_0x53ddc1(0x154)](_0x4051da),_0x37198d=new Cell(_0x5193a8[_0x53ddc1(0x16b)]+_0x20e15b['dy'],_0x5193a8[_0x53ddc1(0x16e)]+_0x20e15b['dx']);console[_0x53ddc1(0x164)](_0x53ddc1(0x175)),this['moveKrakenToCell'](_0x5c9245,_0x37198d);continue;}}return MoveStatus[_0x53ddc1(0x153)];}[a0_0x390892(0x161)](_0x47b429,_0x3cdfdd){const _0x15a24e=a0_0x390892;let _0x19b392=this[_0x15a24e(0x17e)][_0x15a24e(0x17c)](_0x3cdfdd[_0x15a24e(0x16b)],_0x3cdfdd['col']),_0x2fa8d0=_0x19b392!=null&&_0x19b392[_0x15a24e(0x155)]==PlayerId[_0x15a24e(0x177)];!_0x2fa8d0&&this['movePlayer'](_0x47b429[_0x15a24e(0x16c)],_0x3cdfdd[_0x15a24e(0x16b)],_0x3cdfdd[_0x15a24e(0x16e)]);}[a0_0x390892(0x160)](_0x58f39f,_0x54072e,_0x391ec2){const _0x4360ae=a0_0x390892;let _0x186f7f=this[_0x4360ae(0x17e)][_0x4360ae(0x162)](_0x58f39f);if(_0x186f7f==null)return;_0x186f7f[_0x4360ae(0x16b)]=_0x54072e,_0x186f7f[_0x4360ae(0x16e)]=_0x391ec2,this['movePlayerSprite'](_0x58f39f,_0x54072e,_0x391ec2);}[a0_0x390892(0x166)](_0x3afe4b,_0x1cef24,_0x4f96d6){const _0x5c9e56=a0_0x390892;let _0x237e03=this['gridNode'][_0x5c9e56(0x171)](_0x1cef24,_0x4f96d6),_0x1654aa=this['sprites']['get'](_0x3afe4b);_0x1654aa!==undefined&&this['moveSprite'](_0x1654aa,_0x237e03);}[a0_0x390892(0x14f)](_0x5bf309,_0x19c582){_0x5bf309['x']=_0x19c582['x'],_0x5bf309['y']=_0x19c582['y'];}}