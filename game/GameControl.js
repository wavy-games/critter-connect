const a0_0xd5d582=a0_0x5c77;(function(_0x423304,_0x189273){const _0x44c046=a0_0x5c77,_0x4dcc49=_0x423304();while(!![]){try{const _0x509bf9=-parseInt(_0x44c046(0x1f6))/0x1+-parseInt(_0x44c046(0x1ff))/0x2*(parseInt(_0x44c046(0x1fa))/0x3)+parseInt(_0x44c046(0x213))/0x4+-parseInt(_0x44c046(0x217))/0x5+parseInt(_0x44c046(0x200))/0x6+parseInt(_0x44c046(0x204))/0x7*(-parseInt(_0x44c046(0x1f5))/0x8)+parseInt(_0x44c046(0x212))/0x9;if(_0x509bf9===_0x189273)break;else _0x4dcc49['push'](_0x4dcc49['shift']());}catch(_0x146fac){_0x4dcc49['push'](_0x4dcc49['shift']());}}}(a0_0x4444,0xdab18));function a0_0x5c77(_0x14212e,_0x423527){const _0x444489=a0_0x4444();return a0_0x5c77=function(_0x5c7743,_0x55c58f){_0x5c7743=_0x5c7743-0x1f2;let _0x46f0e1=_0x444489[_0x5c7743];return _0x46f0e1;},a0_0x5c77(_0x14212e,_0x423527);}function a0_0x4444(){const _0x82815d=['abs','col','code','Continue','moveKrakenToCell','isSurrounding','freeze','userMove','GameLost','lost','HAZARD!','22328919VvTEiA','7053416VvEcEh','findPlayerOfType','Treasure','Whirlpool','4857680diUgBy','player','moveTowards','taxiCabTo','GameWon','sprites','findPlayer','Island','gridNode','row','moveSprite','location','24juraIn','1780416ceNPKg','positionAt','index','playersOfType','113994XpELcw','playerAt','Ship','board','movePlayer','10dluLKN','7327008gZFqIW','won','deltaTo','log','3798207PQAkKJ','movePlayerSprite','equals'];a0_0x4444=function(){return _0x82815d;};return a0_0x4444();}import{PlayerId}from'../board/PlayerInfo.js';import{Cell}from'../helpers/GraphicsPrimitives.js';export const MoveStatus=Object[a0_0xd5d582(0x20d)]({'GameWon':a0_0xd5d582(0x201),'GameLost':a0_0xd5d582(0x210),'Continue':'continue','MoveNotAvailable':'na'});export class GameControl{constructor(_0x540897,_0x1dd34a,_0x376299){const _0x277753=a0_0xd5d582;this[_0x277753(0x1fd)]=_0x540897,this[_0x277753(0x21f)]=_0x1dd34a,this[_0x277753(0x21c)]=_0x376299;}[a0_0xd5d582(0x20e)](_0x2de7fd,_0x40ba71){const _0x78a95c=a0_0xd5d582;let _0x20f321=this[_0x78a95c(0x1fd)][_0x78a95c(0x1fb)](_0x40ba71[_0x78a95c(0x1f2)],_0x40ba71['col']);if(_0x20f321!=null){if(_0x20f321[_0x78a95c(0x209)]==PlayerId[_0x78a95c(0x21e)])return MoveStatus['MoveNotAvailable'];}let _0x2332f6=this['board']['findPlayerOfType'](PlayerId[_0x78a95c(0x1fc)]);this[_0x78a95c(0x1fe)](_0x2332f6[_0x78a95c(0x1f8)],_0x40ba71[_0x78a95c(0x1f2)],_0x40ba71[_0x78a95c(0x208)]);let _0x24939a=this[_0x78a95c(0x1fd)][_0x78a95c(0x1f9)](PlayerId[_0x78a95c(0x216)]);for(let _0x3f0bef in _0x24939a){let _0x1f294a=_0x24939a[_0x3f0bef],_0x345ca0=_0x1f294a[_0x78a95c(0x218)][_0x78a95c(0x1f4)];if(_0x40ba71[_0x78a95c(0x20c)](_0x345ca0))return console[_0x78a95c(0x203)](_0x78a95c(0x211)),this['movePlayer'](_0x2332f6['index'],_0x345ca0[_0x78a95c(0x1f2)],_0x345ca0['col']),MoveStatus[_0x78a95c(0x20f)];}let _0x35e804=this[_0x78a95c(0x1fd)][_0x78a95c(0x214)](PlayerId[_0x78a95c(0x215)]);if(_0x40ba71[_0x78a95c(0x206)](_0x35e804[_0x78a95c(0x218)][_0x78a95c(0x1f4)]))return MoveStatus[_0x78a95c(0x21b)];return MoveStatus[_0x78a95c(0x20a)];}['counterMove'](_0x2af2f7,_0x563f7e){const _0x203ccb=a0_0xd5d582;let _0x2ed5fc=this[_0x203ccb(0x1fd)][_0x203ccb(0x1f9)](PlayerId['Kraken']);for(let _0x1713c5 in _0x2ed5fc){let _0x34ae8e=_0x2ed5fc[_0x1713c5],_0x3ff2a8=_0x34ae8e[_0x203ccb(0x218)]['location'],_0x2cb6e7=_0x3ff2a8[_0x203ccb(0x21a)](_0x2af2f7),_0x38b240=_0x3ff2a8[_0x203ccb(0x21a)](_0x563f7e);if(_0x38b240==0x1)return console[_0x203ccb(0x203)]('KILL!'),this[_0x203ccb(0x20b)](_0x34ae8e,_0x563f7e),MoveStatus[_0x203ccb(0x20f)];if(_0x2cb6e7==0x1&&_0x38b240>0x1){let _0x1c9161=_0x3ff2a8[_0x203ccb(0x21a)](_0x2af2f7);if(_0x1c9161==0x1){console[_0x203ccb(0x203)]('CHASE!');let _0x681dcb=this[_0x203ccb(0x1fd)][_0x203ccb(0x1fb)](_0x2af2f7[_0x203ccb(0x1f2)],_0x2af2f7['col']);if(_0x681dcb==null){this['moveKrakenToCell'](_0x34ae8e,_0x2af2f7);continue;}}}let _0x4e4f7c=_0x3ff2a8[_0x203ccb(0x202)](_0x563f7e);if(Math[_0x203ccb(0x207)](_0x4e4f7c['dx'])==0x2&&_0x4e4f7c['dy']==0x0||_0x4e4f7c['dx']==0x0&&Math[_0x203ccb(0x207)](_0x4e4f7c['dy'])==0x2){let _0x1b76f4=_0x3ff2a8[_0x203ccb(0x219)](_0x563f7e),_0xf02165=new Cell(_0x3ff2a8[_0x203ccb(0x1f2)]+_0x1b76f4['dy'],_0x3ff2a8[_0x203ccb(0x208)]+_0x1b76f4['dx']);console[_0x203ccb(0x203)]('APPROACH!'),this[_0x203ccb(0x20b)](_0x34ae8e,_0xf02165);continue;}}return MoveStatus[_0x203ccb(0x20a)];}['moveKrakenToCell'](_0x5e6de6,_0xf7e0c0){const _0x467ae1=a0_0xd5d582;let _0x3b4725=this[_0x467ae1(0x1fd)][_0x467ae1(0x1fb)](_0xf7e0c0['row'],_0xf7e0c0[_0x467ae1(0x208)]),_0x31fe7c=_0x3b4725!=null&&_0x3b4725[_0x467ae1(0x209)]==PlayerId['Island'];!_0x31fe7c&&this[_0x467ae1(0x1fe)](_0x5e6de6[_0x467ae1(0x1f8)],_0xf7e0c0[_0x467ae1(0x1f2)],_0xf7e0c0[_0x467ae1(0x208)]);}[a0_0xd5d582(0x1fe)](_0x47fd23,_0x640290,_0x299bc2){const _0x1e4981=a0_0xd5d582;let _0x38392c=this[_0x1e4981(0x1fd)][_0x1e4981(0x21d)](_0x47fd23);if(_0x38392c==null)return;_0x38392c[_0x1e4981(0x1f2)]=_0x640290,_0x38392c[_0x1e4981(0x208)]=_0x299bc2,this[_0x1e4981(0x205)](_0x47fd23,_0x640290,_0x299bc2);}[a0_0xd5d582(0x205)](_0x386136,_0x323103,_0x480db0){const _0x36607f=a0_0xd5d582;let _0x2565a4=this[_0x36607f(0x21f)][_0x36607f(0x1f7)](_0x323103,_0x480db0),_0xfe8733=this[_0x36607f(0x21c)]['get'](_0x386136);_0xfe8733!==undefined&&this['moveSprite'](_0xfe8733,_0x2565a4);}[a0_0xd5d582(0x1f3)](_0x16eea5,_0x178af4){_0x16eea5['x']=_0x178af4['x'],_0x16eea5['y']=_0x178af4['y'];}}