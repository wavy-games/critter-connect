const a0_0x32e766=a0_0x4db0;function a0_0x4db0(_0x33c264,_0x20004d){const _0x3c8331=a0_0x3c83();return a0_0x4db0=function(_0x4db035,_0x39870f){_0x4db035=_0x4db035-0x71;let _0x3ee827=_0x3c8331[_0x4db035];return _0x3ee827;},a0_0x4db0(_0x33c264,_0x20004d);}(function(_0x3ef814,_0x4ad7fd){const _0x222615=a0_0x4db0,_0x1a5c6f=_0x3ef814();while(!![]){try{const _0x3264b7=parseInt(_0x222615(0x73))/0x1*(parseInt(_0x222615(0x80))/0x2)+-parseInt(_0x222615(0x76))/0x3+parseInt(_0x222615(0x93))/0x4+-parseInt(_0x222615(0x8d))/0x5+-parseInt(_0x222615(0x84))/0x6+parseInt(_0x222615(0x8e))/0x7+parseInt(_0x222615(0x81))/0x8*(-parseInt(_0x222615(0x90))/0x9);if(_0x3264b7===_0x4ad7fd)break;else _0x1a5c6f['push'](_0x1a5c6f['shift']());}catch(_0x4931d5){_0x1a5c6f['push'](_0x1a5c6f['shift']());}}}(a0_0x3c83,0xcfec5));function a0_0x3c83(){const _0x43652b=['rows','bot','tileType','checkTopRow','Connect2L','board','5411620NOPoWq','2201647HdgAQz','left','126WhINRQ','checkRows\x20-\x20invalid\x20arguments','checkLeftCol','4693580OKGJUF','Connect4','checkCols\x20-\x20invalid\x20arguments','80693clQksj','equivalentRotation','cols','1858113ptWCoB','checkCols','checkRightCol','tiles','checkBotRow','right','sprites','top','spriteConnectors','rotation','34elBYvm','107792ggNBmP','Connect2i','checkRows','706278doNnaU','angle','assert'];a0_0x3c83=function(){return _0x43652b;};return a0_0x3c83();}import{Connectors,TileType,rotationFromAngle}from'../board/Tile.js';export class ConnectionChecker{constructor(_0x454ee6,_0xc654c1){const _0x4ae4ca=a0_0x4db0;this['board']=_0x454ee6,this[_0x4ae4ca(0x7c)]=_0xc654c1;}['checkConnectors'](){const _0x5911e9=a0_0x4db0;if(!this[_0x5911e9(0x8a)]())return![];for(let _0x97ae33=0x0;_0x97ae33<this[_0x5911e9(0x8c)][_0x5911e9(0x87)]-0x1;_0x97ae33++){if(!this[_0x5911e9(0x83)](_0x97ae33,_0x97ae33+0x1))return![];}if(!this[_0x5911e9(0x7a)](this['board'][_0x5911e9(0x87)]-0x1))return![];if(!this[_0x5911e9(0x92)]())return![];for(let _0x357c2=0x0;_0x357c2<this[_0x5911e9(0x8c)][_0x5911e9(0x75)]-0x1;_0x357c2++){if(!this[_0x5911e9(0x77)](_0x357c2,_0x357c2+0x1))return![];}if(!this['checkRightCol'](this[_0x5911e9(0x8c)][_0x5911e9(0x75)]-0x1))return![];return!![];}['checkTopRow'](){const _0x40ec35=a0_0x4db0;for(let _0x34f7b8=0x0;_0x34f7b8<this[_0x40ec35(0x8c)][_0x40ec35(0x75)];_0x34f7b8++){let _0x27e923=this['spriteConnectors'](0x0,_0x34f7b8);if(_0x27e923[_0x40ec35(0x7d)]!=![])return![];}return!![];}['checkBotRow'](_0x2ee15e){const _0x4541d7=a0_0x4db0;for(let _0x2cdc75=0x0;_0x2cdc75<this[_0x4541d7(0x8c)]['cols'];_0x2cdc75++){let _0x164661=this[_0x4541d7(0x7e)](_0x2ee15e,_0x2cdc75);if(_0x164661[_0x4541d7(0x88)]!=![])return![];}return!![];}[a0_0x32e766(0x83)](_0x2e15ac,_0x20d025){const _0xda5dc3=a0_0x32e766;console[_0xda5dc3(0x86)](_0x20d025==_0x2e15ac+0x1,_0xda5dc3(0x91));for(let _0x4cb341=0x0;_0x4cb341<this[_0xda5dc3(0x8c)][_0xda5dc3(0x75)];_0x4cb341++){let _0x477c93=this[_0xda5dc3(0x7e)](_0x2e15ac,_0x4cb341),_0x1b79af=this[_0xda5dc3(0x7e)](_0x20d025,_0x4cb341);if(_0x477c93[_0xda5dc3(0x88)]!=_0x1b79af[_0xda5dc3(0x7d)])return![];}return!![];}['checkLeftCol'](){const _0x2ec19a=a0_0x32e766;for(let _0x51e0ca=0x0;_0x51e0ca<this[_0x2ec19a(0x8c)][_0x2ec19a(0x87)];_0x51e0ca++){let _0x4318b8=this[_0x2ec19a(0x7e)](_0x51e0ca,0x0);if(_0x4318b8[_0x2ec19a(0x8f)]!=![])return![];}return!![];}[a0_0x32e766(0x78)](_0x43f888){const _0x5c2134=a0_0x32e766;for(let _0x206849=0x0;_0x206849<this[_0x5c2134(0x8c)]['rows'];_0x206849++){let _0x1f6c6a=this[_0x5c2134(0x7e)](_0x206849,_0x43f888);if(_0x1f6c6a[_0x5c2134(0x7b)]!=![])return![];}return!![];}[a0_0x32e766(0x77)](_0xa36dcf,_0x2e5cb0){const _0x4db7fd=a0_0x32e766;console[_0x4db7fd(0x86)](_0x2e5cb0==_0xa36dcf+0x1,_0x4db7fd(0x72));for(let _0xcd805d=0x0;_0xcd805d<this[_0x4db7fd(0x8c)][_0x4db7fd(0x87)];_0xcd805d++){let _0x13d0ed=this[_0x4db7fd(0x7e)](_0xcd805d,_0xa36dcf),_0x184520=this['spriteConnectors'](_0xcd805d,_0x2e5cb0);if(_0x13d0ed[_0x4db7fd(0x7b)]!=_0x184520[_0x4db7fd(0x8f)])return![];}return!![];}[a0_0x32e766(0x7e)](_0x46e0fc,_0x16a52a){const _0x553b6b=a0_0x32e766;let _0x3138fd=this[_0x553b6b(0x8c)][_0x553b6b(0x79)][_0x46e0fc][_0x16a52a],_0x6cf42c=this[_0x553b6b(0x8c)]['cols'],_0x301e42=_0x16a52a+_0x46e0fc*_0x6cf42c,_0x3ec164=this['sprites'][_0x301e42],_0x490107=rotationFromAngle(_0x3ec164[_0x553b6b(0x85)]);return new Connectors(_0x3138fd['tileType'],_0x490107);}['checkAgainstSolvedBoard'](){const _0x360f84=a0_0x32e766;for(let _0x4c0ba2=0x0;_0x4c0ba2<this[_0x360f84(0x8c)][_0x360f84(0x87)];_0x4c0ba2++){for(let _0x1fe227=0x0;_0x1fe227<this['board'][_0x360f84(0x75)];_0x1fe227++){let _0x1abe8b=this[_0x360f84(0x8c)][_0x360f84(0x75)],_0x4f6e62=_0x1fe227+_0x4c0ba2*_0x1abe8b,_0x4cd48d=this[_0x360f84(0x7c)][_0x4f6e62],_0x46c5da=this['board'][_0x360f84(0x79)][_0x4c0ba2][_0x1fe227];if(!this['equivalentRotation'](_0x4cd48d,_0x46c5da))return![];}}return!![];}[a0_0x32e766(0x74)](_0x5f1ee2,_0x35e7ef){const _0x4ba979=a0_0x32e766;switch(_0x35e7ef[_0x4ba979(0x89)]){case TileType[_0x4ba979(0x82)]:let _0x2aa002=(_0x5f1ee2[_0x4ba979(0x85)]-_0x35e7ef['rotation'])%0xb4;return _0x2aa002==0x0;case TileType['Connect1']:case TileType[_0x4ba979(0x8b)]:case TileType['Connect3']:return _0x5f1ee2[_0x4ba979(0x85)]==_0x35e7ef[_0x4ba979(0x7f)];case TileType[_0x4ba979(0x71)]:return!![];}}}